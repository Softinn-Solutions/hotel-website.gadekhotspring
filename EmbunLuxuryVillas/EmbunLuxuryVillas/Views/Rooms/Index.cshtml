@using Softinn.EntityModels.ViewModel
@using EmbunLuxuryVillas.Helpers
@{
    List<RoomTypeViewModel> rooms = ViewBag.ViewModel.RoomTypes;
}

<div id="page-room-index">

    <section class="section-sub-banner bg-2">
        <div class="awe-overlay"></div>
        <div class="sub-banner">
            <div class="container">
                <div class="text text-center">
                    <h2>All ROOMS &amp; RATES</h2>
                    <p>Spacious and comfortable rooms with modern amenities</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section-room bg-white">
        <div class="container">
            <div class="room-wrap-1">
                <div class="row">
                    @{
                        foreach (var room in rooms)
                        {
                            <div class="col-md-6">
                                <div class="room_item-1">

                                    <h2>
                                        <a href="/Rooms/Detail/@room.Name.ToSeoFriendly()">@room.Name</a>
                                    </h2>

                                    <div class="img">
                                        <a href="/Rooms/Detail/@room.Name.ToSeoFriendly()"><img src="@room.ImagePath" alt="@room.Name"></a>
                                    </div>

                                    <div class="desc">
                                        <p>@Html.Raw(room.Description)</p>
                                        <ul>
                                            @if (room.BedRelationship != null)
                                            {
                                                <li>
                                                    @foreach (var bed in room.BedRelationship.Beds)
                                                    {
                                                        <span>@bed.Count @bed.Name</span>
                                                        if (bed != room.BedRelationship.Beds.ToArray()[room.BedRelationship.Beds.Count() - 1])
                                                        {
                                                            <span>@room.BedRelationship.RelationshipType.Name</span>
                                                        }
                                                    }
                                                </li>
                                            }

                                            <li>@room.GuestNumberMax Adult</li>
                                            <li>Breakfast Included</li>
                                        </ul>
                                    </div>

                                    <div class="bot">
                                        <span class="price">From <span class="amout">RM @room.RackRates.Select(rr => rr.Rates).Min().ToString("#")</span> /night</span>
                                        <a href="/Rooms/Detail/@room.Name.ToSeoFriendly()" class="awe-btn awe-btn-13">VIEW DETAILS</a>
                                    </div>

                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </section>

</div>
